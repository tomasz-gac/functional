package com.tgac.functional.recursion;
import io.vavr.Tuple;
import io.vavr.Tuple3;
import io.vavr.collection.Stream;
import org.assertj.core.api.Assertions;
import org.junit.jupiter.api.Test;

import java.math.BigDecimal;
import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.IntStream;
import java.util.stream.LongStream;

import static com.tgac.functional.recursion.Recur.done;
import static com.tgac.functional.recursion.Recur.recur;
import static org.junit.jupiter.api.Assertions.assertThrows;

public class RecurTest {

	// Fibonacci sequence:
	// 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584

	BigDecimal fib(int n) {
		if (n == 0) {
			return BigDecimal.ONE;
		} else if (n == 1) {
			return BigDecimal.ONE;
		} else {
			return fib(n - 1).add(fib(n - 2));
		}
	}

	@Test
	public void shouldComputeFib() {
		Assertions.assertThat(fib(33))
				.isEqualByComparingTo(BigDecimal.valueOf(5702887));
	}

	BigDecimal printingFib(int n) {
		System.out.println(n);
		if (n == 0) {
			return BigDecimal.ONE;
		} else if (n == 1) {
			return BigDecimal.ONE;
		} else {
			return printingFib(n - 1).add(printingFib(n - 2));
		}
	}

	@Test
	public void shouldBlowStack() {
		assertThrows(StackOverflowError.class,
				() -> printingFib(60000));
	}

	Recur<BigDecimal> lazyFib(int n) {
		if (n == 0) {
			return done(BigDecimal.ONE);
		} else if (n == 1) {
			return done(BigDecimal.ONE);
		} else {
			return recur(() -> lazyFib(n - 1)
					.flatMap(v -> lazyFib(n - 2)
							.map(v::add)));
		}
	}

	@Test
	public void shouldRecurseAtAll() {
		Assertions.assertThat(lazyFib(33).get())
				.isEqualTo(BigDecimal.valueOf(5702887));
	}

	BigDecimal fibIt(int n, BigDecimal current, BigDecimal last) {
		if (n == 0) {
			return current;
		} else {
			return fibIt(n - 1, last.add(current), current);
		}
	}

	@Test
	public void shouldBlowStack2() {
		assertThrows(StackOverflowError.class,
				() -> fibIt(100000, BigDecimal.ONE, BigDecimal.ZERO));
	}

	Recur<BigDecimal> lazyFibIt(int n, BigDecimal current, BigDecimal last) {
		if (n == 0) {
			return done(current);
		} else {
			return recur(() -> lazyFibIt(n - 1, last.add(current), current));
		}
	}

	@Test
	public void shouldRecurseDeeplyIt() {
		BigDecimal actual = lazyFibIt(100000, BigDecimal.ONE, BigDecimal.ZERO).get();
		Assertions.assertThat(actual)
				.isEqualByComparingTo(TOO_BIG_TO_DISPLAY);
	}

	static Recur<Long> collatz(long n) {
		if (n == 1) {
			return done(1L);
		} else if (n % 2 == 0) {
			return recur(() -> collatz(n / 2));
		} else {
			return recur(() -> collatz(3 * n + 1));
		}
	}

	@Test
	public void shouldTerminateAtOne11() {
		Assertions.assertThat(collatz(11).get())
				.isEqualTo(1);
	}

	@Test
	public void shouldTerminateAtOne11WithEngine() {
		Engine<Long> e = collatz(11).toEngine();
		e = e.run(5).getLeft();
		e = e.run(5).getLeft();
		Assertions.assertThat(e.run(5).get())
				.isEqualTo(1);
	}

	@Test
	public void shouldTerminateAtOne15() {
		Assertions.assertThat(collatz(15).get())
				.isEqualTo(1);
	}

	@Test
	public void shouldTerminateAtOne27() {
		Assertions.assertThat(collatz(27).get())
				.isEqualTo(1);
	}

	@Test
	public void shouldTerminateAtOne3732423() {
		Assertions.assertThat(collatz(3732423).get())
				.isEqualTo(1);
	}

	static Long collatzIt(Long n) {
		Long result = n;
		while (result != 1) {
			if (result % 2 == 0) {
				result = result / 2;
			} else {
				result = 3 * result + 1;
			}
		}
		return result;
	}

	@Test
	public void shouldTerminateAtOne() {
		IntStream.range(1, 1000000)
				.forEach(i -> Assertions.assertThat(collatz(i).get())
						.isEqualTo(1));
	}

	@Test
	public void shouldTerminateAtOneIt() {
		LongStream.range(1, 1000000)
				.forEach(i -> Assertions.assertThat(collatzIt(i))
						.isEqualTo(1));
	}

	@Test
	public void shouldZip() {
		Tuple3<Integer, String, String> x = done(3)
				.flatMap(v -> done("123")
						.map(s -> Tuple.of(v, s)))
				.flatMap(v -> done("123")
						.map(v::append))
				.get();
		System.out.println(x);
	}

	@Test
	public void shouldFlatMapListElements() {
		List<BigDecimal> collect = IntStream.range(0, 10)
				.mapToObj(i -> lazyFib(i)
						.map(Stream::of))
				.reduce(done(Stream.<BigDecimal> empty()),
						(acc, i) -> Recur.zip(acc, i).map(args -> args.apply(Stream::concat)),
						(l, r) -> null)
				.get()
				.collect(Collectors.toList());

		System.out.println(collect);
	}

	@Test
	public void shouldBacktrackWhenStackOverflowed() {
		Recur<Integer> item = done(0);
		for (int i = 0; i < 1_000_000; ++i) {
			item = item.map(j -> ++j);
		}
		System.out.println(item.get());
	}

	Recur<Integer> dec(int i) {
		if (i == 0) {
			return done(0);
		} else {
			return recur(() -> dec(i - 1));
		}
	}

	@Test
	public void shouldDecrement() {
		Assertions.assertThat(dec(102400000).get())
				.isEqualTo(0);
	}

	private static final BigDecimal TOO_BIG_TO_DISPLAY = new BigDecimal(
			"420269270299515438631900510129391513177391570263223450330471608719833573145727622663393847726701"
					+ "366096253366170285832918664116229882221533373357414726861452220517796036021657629209679553"
					+ "065650253799831449502633050062071908889898464361959992647623610831850502374986470385949102"
					+ "468662124173068273611572355164772425754750235241246874607485105335392343870354787001970158"
					+ "627451490394358177801241082646446182327292482674936228295400423592366266785816674032376953"
					+ "223354081043426666167973886595930465201724576109449556607116705430169089571460488401367949"
					+ "139456649384464629891207894064459578250799792887873939298561018010134388260028382039813920"
					+ "092716351212296992483983946353362236959988059362454831495591998273144066460686038967476784"
					+ "663071423879852006122094836019584282869489411495688799440753318862162470604312784758861717"
					+ "964503830543498877715454690366502772161539198383996991788134398141944368809250111481819798"
					+ "402261166104607318032292355376603758649849997454020469379179304796322248613906014741363723"
					+ "033925344325660848570156478489105339792628966417782191970628666413584437780287635256212238"
					+ "935346610282623528926323448836319940415928656082972859882120514749356839216074406481815370"
					+ "670988971910860608364879553400497281729546558419608260215630407190149332504873789703961270"
					+ "539999945845988458632457635685046590280068216336022301881138301120872725312131480410618363"
					+ "074633391723478815558419942200436973479456746429373159029901632147691027604795314573713353"
					+ "062093337001327496287666602409237814446224791186124277362884721172625386010365842796107648"
					+ "716333134720052848864474489786722218427986141051299691235751838042022652299635148999201592"
					+ "961336958599228492147284059675182485820608337037517587069634745174248448089508961895531079"
					+ "947547333033238807455122989610511170391807481930946312967652658352325400619801548104415925"
					+ "441852860913443411840838591258315497972011173508254288351994205020708970629131932370593611"
					+ "869970876740521536649684571824664060363830217705328485144253249745463099949757758310452101"
					+ "219511581460678590329580785017168935908132618829393164961390849726499423620625048886443482"
					+ "943629519523285183855092352888948498775138102232008825516003364164591409282318882848545378"
					+ "075475179304890760002551214147063706640250187254795227714142505062143172613351237649199326"
					+ "436821902682467779827805001229667768133816466797399134657870551274534394694404597077719187"
					+ "995407395427605915813079285212741656832828295621599317469058958218462221331112374352837096"
					+ "952769737665926420970143046026262808951174978492075447529245355582448503708116966296136143"
					+ "745668556922910835380444787163978020232084023609370922254140477009691282049160576777366973"
					+ "036653649883492364824728356763875413294359591809755297263371697074572483560904280232252726"
					+ "872227006467938455500678400808806542771648032488249180396161449707156928503099719135597745"
					+ "400678466656398246586364144439671724823401802624396178170648336037171760595399177104549613"
					+ "056462877274913087795543389324319136939528141381239501359080789822765848826325080261852485"
					+ "076275618543948457593933512615754594293767962071550954006514931286556444370865543977167354"
					+ "218105455845369761896615555180417133010674271473743311861611166680013474235771549564420882"
					+ "205526253120763024754027490129766516133083308465858718000901273585886038732329047736859043"
					+ "070938148069892517240362952061439957593715175787053504534026486718715408551576929967042586"
					+ "501209349749945808407148382009158880657353892391370402435061965715109834805298609825511097"
					+ "549288533611554525739304244269679115857634190075320096000601967166312277996455327412461382"
					+ "700284220765144312721590741133408003489040762584919284658858041286916386515479642977632512"
					+ "426524335709037327999409060802891432420021627840313756968879331932717928151365185748481649"
					+ "510055315150687289345704069836486490892633904205505470137451087132493449799940863749770127"
					+ "971602810605646534257761336751184475785823961876512808947248685127897508319350810983777199"
					+ "410367010248412966388578876805359612303325157912398097158965143769810627453293929431831804"
					+ "963838253726830282919853288015294071433723208632110406164435835438266486491721843821029351"
					+ "742455374550575809075335588202520560245378431754355385319942508100217143127976546284192869"
					+ "103873944776027778937051738530627974404772248908671474802885558299417787460714246906461050"
					+ "945625202212825832995025564260229990592904684159579116792151285886032829684995127155344650"
					+ "887829632761180390673563326622412309368757374663425213517067969498128961794410077316881865"
					+ "494502374343851231864083896811660495752387370067404460261864848342534348017257039340592723"
					+ "838919220589031998906185198421038308216416528610206873869474476228227067156208089756728077"
					+ "610932128370077653659236252137017561049201049064792643502231336235703767282045638512742848"
					+ "506310749713140008180769796641867092086270751758290904938302420460333404925465658358444295"
					+ "296337088776545265587606606244693783261028782342670500618712584190932016176398756651348692"
					+ "715401008508364726953551391581675871028879120456122452709547661646463442343635850684614430"
					+ "143737965771779082950287449625309471674027094862405581741465010467062797651780375495589908"
					+ "826693746650178993409415801758779312977642689124280958166798692623281362557676005020509061"
					+ "988839912340923968844216427055077813228772518493349042059949567926460565911025776082501419"
					+ "307787196588096224965245820155681523746669946396754909271590427956743473940471388840345700"
					+ "333977146555569494719507103577525081186653257506589279755415330160809061330767202165771540"
					+ "187343645215256692591986452553683456823553070598162130085504904574946212500558610031219155"
					+ "224527412244517230546007648956874403781163712048894248144245738388122164699392123013082293"
					+ "765621951481198747805928300611916585469727144423076654840725787482060121836224986639372150"
					+ "974752653753967735395851984476957732214244609798081017294862506075465564785057434857467376"
					+ "092365663458265549569450080494662560068300330396979197272897854877289869170023334483811114"
					+ "362442199724834837339381791454083836674113793067254363060731858421388931047329746129464330"
					+ "913406615122087253374620231774863799904011403703504128611269026473639339727381792431574550"
					+ "310718602904646516848966499148495583627521027839809598906735345377174703544236535544574712"
					+ "744792321404060396945172845120264505187739366087820740427979492937157133826232579378916797"
					+ "946108593141509568348629616240187575589413012040737867171243772918848752012191291081032674"
					+ "915409604064875424892753452196207410242529191376694436903213210355093338224539955838775790"
					+ "474551175896508802785493729953647184656663763691900135139867974638850946840528454914075647"
					+ "948605645792064942961782974196194610970362930453091346671623844214882018944958150302976635"
					+ "357970338869992036590532404737312054965564334186262277707438964642317957967457795634132283"
					+ "078491602681354845462336294905591488533788039843697491807133608958002012311099161455612789"
					+ "712862952845820906795219432697689699775212704233642924681873485383474288933098056010335792"
					+ "228867656648020661465244444346177401172126439820562310243124840816832768854775304579417636"
					+ "166590305855258136611924901969916280249645408605332127506284062339817305401939875935121571"
					+ "198730663617841028308977914673241823990233067699411191624958418482129016174188489074457425"
					+ "910328510676894545629386475573889945635494325985390253311832043111393820576601242222317529"
					+ "544065996327785486485298474208317961131429085756040571072821295890640230593190741894611025"
					+ "577360756227725048634922722208755796680467307530880500227822389468361402870663902607934434"
					+ "443468629455639610312381813698122879437078536838850659913502698061333093409496179356309462"
					+ "719985320161319315386510845272178681414058657223201001745915396250178870120380509816411978"
					+ "014885369202408708612257363623306450225196123397499236664073545189104486279946218881558204"
					+ "238658003080110689009723868705545255211082996505916124534341516100835443162691706384411654"
					+ "910249699388076244849081904226980416007440539245017403620984748371094909280411677354747942"
					+ "511769672357617318954766059698481314304490693914473657202511253091340235031657959272710714"
					+ "020474579218131264326798016627621353978731868678451664640904373946134105834186613019451520"
					+ "672807138801720175046534517768356716624645109687471679223089014854973165171542671913470177"
					+ "900964650371385571369061497989488994188845729728287595446390359909514870820605857233851415"
					+ "862767424114979515402415599993838647233012159624537718290095003061726938471359979119345404"
					+ "435541652959806010117317099416185636155026578712336935553259632328638430930540914525165204"
					+ "987654129894537133171429737955066823943187328267829307495526686456320874376854009551636731"
					+ "198555852000287369708772678822224083014281829422808908254568140128543790680315026233003135"
					+ "543570841106156839051943858493032597840600258361327454785141649585558622625225336032167476"
					+ "698162042182733938520659373909688525278714540614267265826217757365504832826736859726921745"
					+ "784565192436195150513429476781385542250131264079646974464975869632268016274093312319995315"
					+ "408701199104881239311172712335296437902042142058375699484961276681889437669707324051106480"
					+ "371714625822888567683321085870260352984651037084497253919485107416824237985733807699179323"
					+ "184889784653349547151396087359431148393232317497136900767515061983191875262963294069878067"
					+ "300582894318636140853643354518251362173336646993432586033590160929283504435619556015195253"
					+ "590383866963293142119531908641602949176818660433810861785689365865276259915957646308905748"
					+ "405701242187456118336915674440027198999385943524260688231230651990539334501570243909320255"
					+ "570830582947848816830343229627022717811034132037298686285570615383619255274851397451471728"
					+ "260816646737312223768778965539509623921153538831818112590090593070376552101723383095658510"
					+ "347162234372147094523951238317789818036805766053708172395994493954451100739496008660631400"
					+ "736972680986035314802803563917925929551403555675090134622556565120050004038896469576528683"
					+ "937589432664135963875898195219097723309263619292928688427150600953821721493379274424742114"
					+ "989752222918515704297822771934097510931996882728292800044638147538061338972511995735095990"
					+ "445112227343997153967304029800282075176823582791209505210273566321735219496236218472746464"
					+ "496022614998175190835220330634202159205072059879503523922819586916515854244992947454810660"
					+ "505011762520697235096370201975260198526067738422189652460529985492999533875531329534094013"
					+ "831490746846713949967772057263612037210737434286805771742658205129408096995956353191128273"
					+ "999009796053960798443752311650773471977780957043388364527023964429430946631562390401325173"
					+ "216578292153383010255801393715259885632934775525571923280834458915192204386480608118629754"
					+ "848957335684579824417877560268625378421607331592631511700654666479296482728874240118029558"
					+ "447112869542529777925384160640592742731350886083669639567935524302626188688575200648176049"
					+ "772596113007392259076447844973883006577227566577741463644369609395375368102520301197046454"
					+ "171341193397573510378873839276937556550684521053667831828394540040197553472129245038333600"
					+ "381738567892128171380274979022554327432617244384438351916592795000171368253675854672346903"
					+ "373369846405951324771607653042856523597989801868226004994815042879710747667645929446038640"
					+ "988204665343974190422108476050665162566607895047007370036487826848781094370412378082086720"
					+ "321102798363733609058654381860297492878115548426614641514458315939170095759152419285874646"
					+ "232579928980821266399189797920309651377003004333255996575709580488051628031829131789228353"
					+ "961180609648076058832439883385192787126630843743665519645114080093624785226304263033325302"
					+ "142263623395355864654556795200038674005641384150331650044319688279186208951204048719083431"
					+ "831872080561388048272209950449676983025946244664338734008755934808078312171484872268533770"
					+ "220526080803825612965371213092814286832673202454734191840954326577075184602797070105815430"
					+ "474260354129521452999063598800011317197504331666954239837411800058621274994165791632889639"
					+ "236400118340323406940428738845184765282641012203360562432312163556897598636974964759650287"
					+ "118858578435510168750462463653932455249015403214056986554730424595463633116465552163718390"
					+ "641441530975871281690612142586596351957297792242219399863533387281631677532938288828538833"
					+ "763223323803664508949987473806005740889836075392812372192922188793535782814006906563477820"
					+ "288750788181324078262439499226028832489914572737403078219099173633468658732473492518082257"
					+ "396805457081246116499538396552745369148734095263017756736493650310504001208373332350769715"
					+ "271252314732343371598238115498290209252432698108537214871783872236284696808583169363838449"
					+ "876538969788894598551566627732476537211302340709135237000133281656929327690078147107864309"
					+ "790657844779317896054314320502445959789408721143382595725905067611408377757766694987903449"
					+ "842361683356545764203991061845361893575010171001772562035576956337895375866579578531934916"
					+ "671250677760020111671982448206796213821363747999607838894747697685437117948202138934986118"
					+ "174082899084739771156621957573016676953161639002861643774433398795046592464962422136158255"
					+ "697979054549822036591915860491202071563563104031553898662804133096637672141091404518203202"
					+ "405716711882043446479392874980381935293814505434327576436725219530094774825624593141792260"
					+ "513701768940236424760148983198124988181565936376762550065769380587476314061544815577921253"
					+ "527652623573043368919268525405452626241191101615635779566696006590853227700270327518712187"
					+ "717125280345612683023510166754512475487713377371667955142042670346735104279117338462923780"
					+ "102776104168337168618425372656203751373284353363356516322014511878286982312595142110620136"
					+ "454193030004172353288951917831895585653089961841403637276624261346298183236671851622761292"
					+ "906447484264267072022835168461426592051676223120783082873649567475314773182809567925095745"
					+ "518320864072003407328047697725042906516677586266213794082221663967250013659690494283089560"
					+ "549095125596898792210177465881794877434523159035852603218330966709911258339348544848724784"
					+ "898998655510616338928668999670022545572520119246896339924534193056862828726615455497759117"
					+ "167723487027310999428455306629062923094460650596132485955041827793867266851956463510407861"
					+ "783979941387203353282784319564570900789300894702792354810518440182172799757606798074568460"
					+ "300150813892345250210504493487414647172256499536716482123686603713990419433437762239886663"
					+ "851921756772628318385383267256743980731998946648066449320332566724813016944238626026093859"
					+ "526218547382982965566416723905609735237418310719526509568379567074264674068384973447516968"
					+ "593578921964241612497911439803959066699037497600507857633103610020722599825555066260311254"
					+ "332369339553635821828983112217091453159478031106795275744064049680687878041449978932311245"
					+ "400423562790795049605353232079879794660362481686336148429783829503833009643088822457573493"
					+ "742883268731131033564532896600482935896139863716123252156108863256469920665387383737829382"
					+ "390201767226240379323264372364963657655017444240199111266112185403951161661229097935435094"
					+ "249668214817688676151993353930237597426829520797054969020159710818935732375747730343282468"
					+ "871473389784986580571286787924560461867732757210410139280459460173494645119897670695402692"
					+ "632597708541191901569104599555220735129313818716140549908490955484541943493191734443052237"
					+ "646939226340339264651005174460364457075446384753473396670555790839843175966890793008465743"
					+ "859856191266312471770395539000662450582533036177906455933427415574329754738243585168755829"
					+ "128893472405357071344545822297193373075820589714447288908978134075414811073118612293685997"
					+ "331050712273146250339387389773847935468828495367833221665606461103660656659313231195501369"
					+ "485113843929121156157449854781600361895540962234461692797994948465663614833069917382955014"
					+ "465606342903735957591546955852725386073180249965281676842544342588973907388435297461059102"
					+ "239341580724756958330080115455769163437623074819008751508360426714659037680679317715318450"
					+ "944455507821880437147901725404873759062341438118109177799589445285111095431245100766188423"
					+ "673996219245607796951112277936440799041511951444066154696500857621797709319090958313298778"
					+ "743452216525503444540470276316971436876246962004325852200335643684869288291617928781914243"
					+ "347565475628722612435166434369196248975696815141472788876553497769800648087115476176694595"
					+ "911192292742945438488249733391421957161602229222490636429659797209954719580002503674675489"
					+ "465028006455603137064421741963422783187804694280404749979925067844034492617078101865268918"
					+ "560055928947843562023050656209079833278405440993375432546626899634238185308781715913813240"
					+ "968824000490082338487522944870046103538188341821701517877946850334629894168308089935790820"
					+ "340259698157101915212432259914229799396101748879788783028119219123872792235362329503409704"
					+ "702638457695051816067665704448662098189126871588839068392681626656604550406941132551772630"
					+ "159300546811862531404117654625414748495420965521832926255083589672181163544183138871068504"
					+ "017061468476887413558924853495123618590147545979897813381678413498925702137359192591893850"
					+ "511712095835335446819590241858446047137885270946834279634804758715657341569089644452539579"
					+ "525183759731421602968163841208815303609996699618863979504180697217029753261277037242217744"
					+ "239975786075224427576799062489912134049647488928591852842283324711869486112044765884027112"
					+ "291127911479225250432715303368436657815017282187860553032029987958807921737926332546835292"
					+ "644208515314637982132209312079703511209462607100730277891207256674308428494920240545039175"
					+ "064312107857706544118721994404471325966165329574302754941095670154332609938977514813000954"
					+ "182840265129893522776019998300410614171832108019578950379045932608127678813899473832422751"
					+ "256484934128653107105286868964864403529461983263921951759926215856785330818085462251743205"
					+ "772404177926543775665817223118531221875576769380170304621827669146776225014475875461514451"
					+ "431825592306694306260373264656836355532616033171543753532434937422425096766997220956918292"
					+ "039922177974924406792654800591061567478950054299801763544403777578706317203401355564368305"
					+ "146801702373885988156351623783594467435566276013514967430144042041517192887237464786738278"
					+ "197182703598388603661618735726270049334234928611724050622827512127548155426422847152173549"
					+ "714580247381477645036097041898351837631962877222154914978689133974305827912651066320966441"
					+ "528438054008727568992633244723009447752915292844413484286782907212369432924242088360436395"
					+ "060550675877212431410272860528387561384810240652625724771299977569464350005623340155220886"
					+ "528271869554824300037656447908489390100053684105752236328037083889749667549341111989628841"
					+ "343764816576275551624938581979987619059341059658877295375059213548028240638479972514994602"
					+ "064850374207450243309937316478271191170317187850249215628176250909209574412902704966508918"
					+ "582444095184908683624486130274620963475379322631881671526110781260732811062011534497765815"
					+ "730498778677382754501731658966273272217102310204446891020041594830352675390820000993237003"
					+ "591602026972735896728759680009243135108997595977173967073770554563533978776283070965264356"
					+ "787059183966640117154025620422828106006794410917965394168536500527272432453699734511551617"
					+ "584214159970190975548307342463494257091109772536289637005183104460867028590491548978545186"
					+ "164048596712183218791260322444686567457200290963009073279641938108736830057700848854987632"
					+ "642420122577561135179211206970609858480637530014330320629790085601131745346021689854993553"
					+ "448124290070619677070358334677171892960965004608190645381374464927038893065019561806046257"
					+ "730095062206446923483493116319687183946068823139940561499289688955368854442601597891759488"
					+ "522130483332037888265615588796382408769065429319304667776908107204890864019313380952438987"
					+ "173723725300552174752441594792211376665280588843839605414756748698733716735516610454304289"
					+ "913199343082099165015964765620845632436308178171260221701634777556411144180359219308847128"
					+ "925579539364287782445365404816595032322378817806028590558270008673868488375033771498091716"
					+ "444469306030839022596237994627271328976892993672453655323348246579421273402707056538851193"
					+ "621576265629886468443537082357184808424713839752577831012878555344570802676590173820608187"
					+ "351905099849963096591079343236681385397020282139494940613448995245390883090354578779566396"
					+ "335346306617642260220210577562192378195749462971643681534921085707270631642732845357749851"
					+ "399463715941895372082676714713320509257009933567295261116362800080582440975460170851757641"
					+ "144407939572021524844411642155595782874874542422601184486590671566411080286829051821061286"
					+ "040445475051143892254443914386819488133792825449371700396553390063464483310103727144675235"
					+ "772426035116569951577396764291357263753587350167047061331252745084750521335979378386195018"
					+ "882192918032554752178517658003217742633302352483248184934844780843978821871354242752913348"
					+ "569007762571896695622806296616834700668021294259786170530121864797894739813525030000508017"
					+ "902704551879779350529469921080278832964916038501218494004956869619970702752454853104166799"
					+ "372068467474226271443905876147908889584182416037374890870011281786063162415194429057278667"
					+ "097563530351860359404758769759952004816985130446186103498118513338590336631642118750130877"
					+ "481587067622874931130086573297344615374397565999107930499489258823401135036038751142199330"
					+ "2025047776808575499810068887160787732953050111241465547976334636931551115834357110038285979669707537501");
}